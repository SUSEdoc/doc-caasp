<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Air gap Deployment Guide | SUSE CaaS Platform 4.5.2</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.0.17 (based on DocBook XSL Stylesheets 1.79.2)" /><meta name="product-name" content="SUSE CaaS Platform" /><meta name="product-number" content="4.5.2" /><meta name="book-title" content="Air gap Deployment Guide" /><meta name="description" content="Copyright © 2006 — 2020 SUSE LLC and contributors. All rights reserved." /><meta name="tracker-url" content="https://github.com/SUSE/doc-caasp/issues/new" /><meta name="tracker-type" content="gh" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft single offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a></div><div id="_outer-wrap"><div id="_white-bg" style="background-color: #FABEBE;"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs inactive"><a class="single-crumb" href="#id-1" accesskey="c"><span class="single-contents-icon"></span>Air gap Deployment Guide</a><div class="bubble-corner active-contents"></div></div><div class="clearme"></div></div></div><div id="_fixed-header-wrap" style="background-color: #FABEBE;" class="inactive"><div id="_fixed-header"><div class="crumbs inactive"><a class="single-crumb" href="#id-1" accesskey="c"><span class="single-contents-icon"></span>Show Contents: Air gap Deployment Guide</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="clearme"></div></div><div class="clearme"></div></div><div class="active-contents bubble"><div class="bubble-container"><div id="_bubble-toc"><ol><li class="inactive"><a href="#id-1.2"><span class="number"> </span><span class="name"></span></a></li><li class="inactive"><a href="#_about_this_guide"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="#_air_gapped_deployment"><span class="number">1 </span><span class="name">Air gapped deployment</span></a></li><li class="inactive"><a href="#_contributors"><span class="number">A </span><span class="name">Contributors</span></a></li><li class="inactive"><a href="#_gnu_licenses"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_toc-bubble-wrap"></div><div id="_content" class="draft "><div class="documentation"><div xml:lang="en" class="book" id="id-1" lang="en"><div class="titlepage"><div><h6 class="version-info"><span class="productname ">SUSE CaaS Platform</span> <span class="productnumber ">4.5.2</span></h6><div><h1 class="title">Air gap Deployment Guide</h1></div><div><h2 class="subtitle">This guide describes deployment for SUSE CaaS Platform 4.5.2 in an air gap environment.</h2></div><div class="authorgroup"><div><span class="imprint-label">Authors: </span><span class="firstname ">Markus</span> <span class="surname ">Napp</span> and <span class="firstname ">Nora</span> <span class="surname ">Kořánová</span></div></div><div class="date"><span class="imprint-label">Publication Date: </span>2020-12-12</div></div></div><div class="toc"><dl><dt><span class="preface"><a href="#id-1.2"><span class="name"></span></a></span></dt><dt><span class="preface"><a href="#_about_this_guide"><span class="name">About This Guide</span></a></span></dt><dd><dl><dt><span class="section"><a href="#_required_background"><span class="name">Required Background</span></a></span></dt><dt><span class="section"><a href="#_available_documentation"><span class="name">Available Documentation</span></a></span></dt><dt><span class="section"><a href="#_feedback"><span class="name">Feedback</span></a></span></dt><dt><span class="section"><a href="#_documentation_conventions"><span class="name">Documentation Conventions</span></a></span></dt></dl></dd><dt><span class="chapter"><a href="#_air_gapped_deployment"><span class="number">1 </span><span class="name">Air gapped deployment</span></a></span></dt><dd><dl><dt><span class="section"><a href="#_process_checklist"><span class="number">1.1 </span><span class="name">Process Checklist</span></a></span></dt><dt><span class="section"><a href="#airgap-concepts"><span class="number">1.2 </span><span class="name">Concepts</span></a></span></dt><dt><span class="section"><a href="#airgap-requirements"><span class="number">1.3 </span><span class="name">Requirements</span></a></span></dt><dt><span class="section"><a href="#airgap-rpm_repository"><span class="number">1.4 </span><span class="name">RPM Repository Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-rpm_repository-update"><span class="number">1.5 </span><span class="name">Updating RPM Repository Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-container_registry"><span class="number">1.6 </span><span class="name">Container Registry Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-helm_charts"><span class="number">1.7 </span><span class="name">Helm Chart Repository Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-update"><span class="number">1.8 </span><span class="name">Updating Registry Mirror For Helm Charts</span></a></span></dt><dt><span class="section"><a href="#airgap-caasp_deployment"><span class="number">1.9 </span><span class="name">Deploying SUSE CaaS Platform</span></a></span></dt><dt><span class="section"><a href="#airgap-troubleshooting"><span class="number">1.10 </span><span class="name">Troubleshooting</span></a></span></dt></dl></dd><dt><span class="appendix"><a href="#_contributors"><span class="number">A </span><span class="name">Contributors</span></a></span></dt><dt><span class="appendix"><a href="#_gnu_licenses"><span class="number">B </span><span class="name">GNU Licenses</span></a></span></dt><dd><dl><dt><span class="section"><a href="#_gnu_free_documentation_license"><span class="number">B.1 </span><span class="name">GNU Free Documentation License</span></a></span></dt></dl></dd></dl></div><div class="preface " id="id-1.2"><div class="titlepage"><div><div><h1 class="title"><span class="number"> </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name"></span> <a title="Permalink" class="permalink" href="#id-1.2">#</a></h1></div></div></div><div class="line"></div><div id="id-1.2.2" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning</h6><p>This document is a work in progress.</p><p>The content in this document is subject to change without notice.</p></div><div id="id-1.2.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><p>This guide assumes a configured SUSE Linux Enterprise Server 15 SP2 environment.</p></div><p>Copyright ©
2006 — 2020
SUSE LLC and contributors.
All rights reserved.</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.2 or (at your option) version 1.3; with the Invariant Section being this copyright notice and license.
A copy of the license version 1.2 is included in the section entitled <span class="quote">“<span class="quote ">GNU Free Documentation License</span>”</span>.</p><p>For SUSE
trademarks, see <a class="link" href="http://www.suse.com/company/legal/" target="_blank">http://www.suse.com/company/legal/</a>.
All other third-party trademarks are the property of their respective owners.
Trademark symbols (®, ™, etc.) denote trademarks of SUSE and its affiliates.
Asterisks (*) denote third-party trademarks.</p><p>All information found in this book has been compiled with utmost attention to detail.
However, this does not guarantee complete accuracy.
Neither SUSE LLC, its affiliates, the authors, nor the translators shall be held liable for possible errors or the consequences thereof.</p></div><div class="preface " id="_about_this_guide"><div class="titlepage"><div><div><h1 class="title"><span class="number"> </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">About This Guide</span> <a title="Permalink" class="permalink" href="#_about_this_guide">#</a></h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="#_required_background"><span class="name">Required Background</span></a></span></dt><dt><span class="section"><a href="#_available_documentation"><span class="name">Available Documentation</span></a></span></dt><dt><span class="section"><a href="#_feedback"><span class="name">Feedback</span></a></span></dt><dt><span class="section"><a href="#_documentation_conventions"><span class="name">Documentation Conventions</span></a></span></dt></dl></div></div><div class="sect1" id="_required_background"><div class="titlepage"><div><div><h2 class="title"><span class="number">1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Required Background</span> <a title="Permalink" class="permalink" href="#_required_background">#</a></h2></div></div></div><p>To keep the scope of these guidelines manageable, certain technical assumptions have been made.
These documents are not aimed at beginners in Kubernetes usage and require that:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>You have some computer experience and are familiar with common technical terms.</p></li><li class="listitem "><p>You are familiar with the documentation for your system and the network on which it runs.</p></li><li class="listitem "><p>You have a basic understanding of Linux systems.</p></li><li class="listitem "><p>You have an understanding of how to follow instructions aimed at experienced Linux administrators
and can fill in gaps with your own research.</p></li><li class="listitem "><p>You understand how to plan, deploy and manage Kubernetes applications.</p></li></ul></div></div><div class="sect1" id="_available_documentation"><div class="titlepage"><div><div><h2 class="title"><span class="number">2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Available Documentation</span> <a title="Permalink" class="permalink" href="#_available_documentation">#</a></h2></div></div></div><p><a id="id-1.3.3.2.1" class="indexterm"></a>
<a id="id-1.3.3.2.2" class="indexterm"></a></p><p>We provide HTML and PDF versions of our books in different languages.
Documentation for our products is available at <a class="link" href="https://documentation.suse.com/" target="_blank">https://documentation.suse.com/</a>, where you can also find the latest updates and browse or download the documentation in various formats.</p><p>The following documentation is available for this product:</p><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.3.5.1"><span class="term ">Deployment Guide</span></dt><dd><p>The SUSE CaaS Platform Deployment Guide gives you details about installation and configuration of SUSE CaaS Platform
along with a description of architecture and minimum system requirements.</p></dd><dt id="id-1.3.3.5.2"><span class="term ">Quick Start Guide</span></dt><dd><p>The SUSE CaaS Platform
Quick Start guides you through the installation of a minimum cluster in the fastest way possible.</p></dd><dt id="id-1.3.3.5.3"><span class="term ">Admin Guide</span></dt><dd><p>The SUSE CaaS Platform
Admin Guide discusses authorization, updating clusters and individual nodes, monitoring, logging, use of Helm, troubleshooting and integration with SUSE Enterprise Storage and SUSE Cloud Application Platform.</p></dd></dl></div></div><div class="sect1" id="_feedback"><div class="titlepage"><div><div><h2 class="title"><span class="number">3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Feedback</span> <a title="Permalink" class="permalink" href="#_feedback">#</a></h2></div></div></div><p>Several feedback channels are available:</p><div class="variablelist "><dl class="variablelist"><dt id="id-1.3.4.3.1"><span class="term ">Bugs and Enhancement Requests</span></dt><dd><p>For services and support options available for your product, refer to <a class="link" href="http://www.suse.com/support/" target="_blank">http://www.suse.com/support/</a>.</p><p>To report bugs for a product component, go to <a class="link" href="https://scc.suse.com/support/requests" target="_blank">https://scc.suse.com/support/requests</a>, log in, and click <span class="guimenu ">Create New</span>.</p></dd><dt id="id-1.3.4.3.2"><span class="term ">User Comments</span></dt><dd><p>We want to hear your comments about and suggestions for this manual and the other documentation included with this product.
Use the User Comments feature at the bottom of each page in the online documentation or go to <a class="link" href="https://documentation.suse.com/" target="_blank">https://documentation.suse.com/</a>, click Feedback at the bottom of the page and enter your comments in the Feedback Form.</p></dd><dt id="id-1.3.4.3.3"><span class="term ">Mail</span></dt><dd><p>For feedback on the documentation of this product, you can also send a mail to <code class="literal">doc-team@suse.com</code>.
Make sure to include the document title, the product version and the publication date of the documentation.
To report errors or suggest enhancements, provide a concise description of the problem and refer to the respective section number and page (or URL).</p></dd></dl></div></div><div class="sect1" id="_documentation_conventions"><div class="titlepage"><div><div><h2 class="title"><span class="number">4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Documentation Conventions</span> <a title="Permalink" class="permalink" href="#_documentation_conventions">#</a></h2></div></div></div><p>The following notices and typographical conventions are used in this documentation:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p><code class="literal">/etc/passwd</code> : directory names and file names</p></li><li class="listitem "><p><code class="literal">&lt;PLACEHOLDER&gt;</code>: replace <code class="literal">&lt;PLACEHOLDER&gt;</code> with the actual value</p></li><li class="listitem "><p><code class="literal">PATH</code>: the environment variable PATH</p></li><li class="listitem "><p><code class="literal">ls</code>, <code class="literal">--help</code>: commands, options, and parameters</p></li><li class="listitem "><p><code class="literal">user</code> : users or groups</p></li><li class="listitem "><p><span class="package">package name</span> : name of a package</p></li><li class="listitem "><p><span class="keycap">Alt</span>, <span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F1</span> : a key to press or a key combination; keys are shown in uppercase as on a keyboard</p></li><li class="listitem "><p><span class="guimenu ">File</span> › <span class="guimenu ">Save As</span> : menu items, buttons</p></li><li class="listitem "><p><span class="emphasis"><em>Dancing Penguins</em></span> (Chapter <span class="emphasis"><em>Penguins</em></span>, ↑Another Manual): This is a reference to a chapter in another manual.</p></li><li class="listitem "><p>Commands that must be run with root privileges. Often you can also prefix these commands with the <code class="literal">sudo</code> command to run them as non-privileged user.</p><div class="verbatim-wrap highlight bash"><pre class="screen">sudo command</pre></div></li><li class="listitem "><p>Commands that can be run by non-privileged users.</p><div class="verbatim-wrap highlight bash"><pre class="screen">command</pre></div></li><li class="listitem "><p>Notices:</p><div id="id-1.3.5.3.12.2" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning</h6><p>Vital information you must be aware of before proceeding.
Warns you about security issues, potential loss of data, damage to hardware, or physical hazards.</p></div><div id="id-1.3.5.3.12.3" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important</h6><p>Important information you should be aware of before proceeding.</p></div><div id="id-1.3.5.3.12.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><p>Additional information, for example about differences in software versions.</p></div><div id="id-1.3.5.3.12.5" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip</h6><p>Helpful information, like a guideline or a piece of practical advice.</p></div></li></ul></div></div></div><div class="chapter " id="_air_gapped_deployment"><div class="titlepage"><div><div><h1 class="title"><span class="number">1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Air gapped deployment</span> <a title="Permalink" class="permalink" href="#_air_gapped_deployment">#</a></h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="#_process_checklist"><span class="number">1.1 </span><span class="name">Process Checklist</span></a></span></dt><dt><span class="section"><a href="#airgap-concepts"><span class="number">1.2 </span><span class="name">Concepts</span></a></span></dt><dt><span class="section"><a href="#airgap-requirements"><span class="number">1.3 </span><span class="name">Requirements</span></a></span></dt><dt><span class="section"><a href="#airgap-rpm_repository"><span class="number">1.4 </span><span class="name">RPM Repository Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-rpm_repository-update"><span class="number">1.5 </span><span class="name">Updating RPM Repository Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-container_registry"><span class="number">1.6 </span><span class="name">Container Registry Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-helm_charts"><span class="number">1.7 </span><span class="name">Helm Chart Repository Mirror</span></a></span></dt><dt><span class="section"><a href="#airgap-update"><span class="number">1.8 </span><span class="name">Updating Registry Mirror For Helm Charts</span></a></span></dt><dt><span class="section"><a href="#airgap-caasp_deployment"><span class="number">1.9 </span><span class="name">Deploying SUSE CaaS Platform</span></a></span></dt><dt><span class="section"><a href="#airgap-troubleshooting"><span class="number">1.10 </span><span class="name">Troubleshooting</span></a></span></dt></dl></div></div><p>An air gapped deployment is defined by not allowing any direct connection to the
Internet or external networks from the cluster during setup or runtime.</p><p>All data that is transferred to the cluster must be transferred in a secure
fashion.</p><div id="id-1.4.4" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><p>Air gapped deployment can be performed with any of the other deployment types
and includes a set of steps that need to be performed before, or during the
deployment steps of the concrete deployment.</p></div><div id="id-1.4.5" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Scope Of This Document</h6><p>This document focuses on providing mirrors for the resources provided by SUSE
and required for basic SUSE CaaS Platform functionality.
If you require additional functionality, you can use these instructions as an example on how to provide additional mirrors.</p><p>Providing a full set of mirroring instructions, for all usage scenarios, is beyond the scope of this document.</p></div><div class="sect1" id="_process_checklist"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Process Checklist</span> <a title="Permalink" class="permalink" href="#_process_checklist">#</a></h2></div></div></div><p>The steps that must be performed for an air gapped installation are:</p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>Read the concepts section.</p><p><a class="xref" href="#airgap-concepts" title="1.2. Concepts">Section 1.2, “Concepts”</a></p></li><li class="listitem "><p>Deploy mirror servers on external and internal networks.</p><p><a class="xref" href="#airgap-requirements-machines" title="1.3.1. Mirror Servers">Section 1.3.1, “Mirror Servers”</a></p></li><li class="listitem "><p>Install Repository Mirroring Tool (RMT) on servers.</p><p><a class="xref" href="#airgap-rpm_repository" title="1.4. RPM Repository Mirror">Section 1.4, “RPM Repository Mirror”</a></p></li><li class="listitem "><p>Configure container image registry on servers.</p><p><a class="xref" href="#airgap-container_registry" title="1.6. Container Registry Mirror">Section 1.6, “Container Registry Mirror”</a></p></li><li class="listitem "><p>Configure Helm Chart repository on internal mirror.</p><p><a class="xref" href="#airgap-helm_charts" title="1.7. Helm Chart Repository Mirror">Section 1.7, “Helm Chart Repository Mirror”</a></p></li><li class="listitem "><p>Perform the Repository Mirroring Tool (RMT) update procedure to populate the RPM repository.</p><p><a class="xref" href="#airgap-rpm_repository-update" title="1.5. Updating RPM Repository Mirror">Section 1.5, “Updating RPM Repository Mirror”</a></p></li><li class="listitem "><p>Perform the shared update procedure to populate the Helm chart repository and registry services.</p><p><a class="xref" href="#airgap-rpm_repository-update" title="1.5. Updating RPM Repository Mirror">Section 1.5, “Updating RPM Repository Mirror”</a></p></li><li class="listitem "><p>Deploy SUSE CaaS Platform and configure the nodes to use the respective services on the internal network.</p><p><a class="xref" href="#airgap-caasp_deployment" title="1.9. Deploying SUSE CaaS Platform">Section 1.9, “Deploying SUSE CaaS Platform”</a></p><p>RPM Packages: <a class="xref" href="#airgap-rpm_repository-client" title="1.4.2. Client Configuration">Section 1.4.2, “Client Configuration”</a></p><p>Helm Charts: <a class="xref" href="#airgap-helm_charts-client" title="1.7.2. Client Configuration">Section 1.7.2, “Client Configuration”</a></p><p>Container Images: <a class="xref" href="#airgap-container_registry-client" title="1.6.2. Client Configuration">Section 1.6.2, “Client Configuration”</a></p></li></ol></div></div><div class="sect1" id="airgap-concepts"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Concepts</span> <a title="Permalink" class="permalink" href="#airgap-concepts">#</a></h2></div></div></div><div class="sect2" id="_network_separation"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Network Separation</span> <a title="Permalink" class="permalink" href="#_network_separation">#</a></h3></div></div></div><p>For an air gapped scenario we assume a network separation into three logical parts.</p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/caasp_cluster_airgap_network.png" target="_blank"><img src="images/caasp_cluster_airgap_network.png" width="" alt="caasp cluster airgap network" /></a></div></div><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.7.2.4.1"><span class="term ">Upstream</span></dt><dd><p>Outside the controlled network.</p></dd><dt id="id-1.4.7.2.4.2"><span class="term ">External</span></dt><dd><p>Inside the controlled network, outside the air gapped network.</p></dd><dt id="id-1.4.7.2.4.3"><span class="term ">Internal</span></dt><dd><p>Inside the air gapped network.</p></dd></dl></div><p>The following instructions will use these three terms to refer to parts of the infrastructure.
For example: "internal mirror" refers to the mirroring server on the air gapped network.
The terms <code class="literal">air gapped</code> and <code class="literal">internal</code> will be used interchangeably.</p></div><div class="sect2" id="_mirrored_resources"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mirrored Resources</span> <a title="Permalink" class="permalink" href="#_mirrored_resources">#</a></h3></div></div></div><p>In order to disconnect SUSE CaaS Platform
from the external network, we provide ways for the components to retrieve data from alternative sources inside the internal (air gapped) network.</p><p>You will need to create a mirror server inside the internal network; which acts as a replacement for the default sources.</p><p>The three main sources that must be replaced are:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>SUSE Linux Enterprise Server RPM packages</p><p>Provided by the SUSE
package repositories</p></li><li class="listitem "><p>Helm installation charts</p><p>Provided by the SUSE helm chart repository (<code class="literal">https://kubernetes-charts.suse.com/</code>)</p></li><li class="listitem "><p>Container images</p><p>Provided by the SUSE container registry (<code class="literal">https://registry.suse.com</code>)</p></li></ul></div><p>You will provide replacements for these resources on a dedicated server inside your internal (air gapped) network.</p><p>The internal mirror must be updated with data retrieved from the original upstream sources; in a trusted and secure fashion.
To achieve this, you will need an additional mirroring server outside of the air gapped network which acts as a first stage mirror and allows retrieving data from the internet.</p><p>Updating of mirrors happens in three stages.</p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>Update the external mirror from upstream.</p></li><li class="listitem "><p>Transfer the updated data onto a trusted storage device.</p></li><li class="listitem "><p>Update the internal mirror from the trusted storage device.</p></li></ol></div><p>Once the replacement sources are in place, the key components are reconfigured to use the mirrors as their main sources.</p></div><div class="sect2" id="_rpm_package_repository_mirroring"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">RPM Package Repository Mirroring</span> <a title="Permalink" class="permalink" href="#_rpm_package_repository_mirroring">#</a></h3></div></div></div><p>Mirroring of the RPM repositories is handled by the <a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-rmt/#book-rmt" target="_blank">Repository Mirroring Tool</a> for SUSE Linux Enterprise Server
 15.
The tool provides functionality that mirrors the upstream SUSE
 package repositories on the local network.
This is intended to minimize reliance on SUSE
 infrastructure for updating large volumes of machines.
The air gapped deployment uses the same technology to provide the packages locally for the air gapped environment.</p><p>SUSE Linux Enterprise Server bundles software packages into so called modules.
You must enable the <code class="literal">SUSE CaaS Platform</code>, <code class="literal">SUSE Linux Enterprise Server</code> and <code class="literal">Containers Module</code> modules in addition to the modules enabled by default.
All enabled modules need to be mirrored inside the air gapped network in order to provide the necessary software for other parts of this scenario.</p><p>Repository Mirroring Tool (RMT) will provide a repository server that holds the packages and related metadata for SUSE Linux Enterprise Server; to install them like from the upstream repository.
Data is synchronized once a day to the external mirror automatically or can be forced via the CLI.</p><p>You can copy this data to your trusted storage at any point and update the internal mirror.</p></div><div class="sect2" id="_helm_chart_and_container_image_mirroring"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Helm Chart and Container Image Mirroring</span> <a title="Permalink" class="permalink" href="#_helm_chart_and_container_image_mirroring">#</a></h3></div></div></div><p>SUSE CaaS Platform uses <a class="link" href="https://www.helm.sh/" target="_blank">Helm</a> as one method to install additional software on the cluster.
The logic behind this relies on <code class="literal">Charts</code>, which are configuration files that tell Kubernetes
 how to deploy software and its dependencies.
The actual software installed using this method is delivered as <code class="literal">container images</code>.
The download location of the container image is stored inside the Helm chart.</p><p>Container images are provided by SUSE and others on so called registries.
The SUSE container registry is used to update the SUSE CaaS Platform
components.</p><p>To mirror container images inside the air gapped environment, you will run two container image registry services that are used to pull and in turn serve these images.
The registry service is shipped as a container image itself.</p><p>Helm charts are provided independently from container images and can be developed by any number of sources.
Please make sure that you trust the origin of container images referenced in the helm charts.</p><p>We provide <a class="link" href="https://github.com/openSUSE/helm-mirror" target="_blank">helm-mirror</a> to allow downloading all charts present in a chart repository in bulk and moreover to extract all container image URLs from the charts. <a class="link" href="https://github.com/containers/skopeo" target="_blank">skopeo</a> is used to download all the images referred to in the Helm charts from their respective registry.</p><p>Helm charts will be provided to the internal network by a webserver and refer to the container images hosted on the internal registry mirror.</p><p>Once mirroring is configured, you will not have to modify Dockerfile(s) or Kubernetes
manifests to use the mirrors.
The requests are passed through the container engine which forwards them to the configured mirrors.
For example: All images with a prefix <code class="literal">registry.suse.com/</code> will be automatically pulled from the configured (internal) mirror instead.</p><p>For further information on registry mirror configuration, refer to <a class="link" href="https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_miscellaneous.html#_configuring_container_registries_for_cri_o" target="_blank">https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_miscellaneous.html#_configuring_container_registries_for_cri_o</a>.</p></div></div><div class="sect1" id="airgap-requirements"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Requirements</span> <a title="Permalink" class="permalink" href="#airgap-requirements">#</a></h2></div></div></div><div class="sect2" id="airgap-requirements-machines"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.3.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mirror Servers</span> <a title="Permalink" class="permalink" href="#airgap-requirements-machines">#</a></h3></div></div></div><div id="id-1.4.8.2.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Shared Mirror Server</h6><p>If you have multiple SUSE CaaS Platform
clusters or a very large number of nodes accessing the mirrors, you should increase the sizing of CPU/RAM.</p><p>Storage sizing depends on your intended update frequency and data retention model.
If you want to keep snapshots or images of repository states at various points, you must increase storage size accordingly.</p></div><p>You will need to provide and maintain at least two machines in addition to your SUSE CaaS Platform
cluster.
These mirror servers will reside on the external part of your network and the internal (air gapped) network respectively.</p><p>For more information on the requirements of a SUSE Linux Enterprise
15 server, refer to: <a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-deployment/#part-prep" target="_blank">Installation Preparation</a>.</p><div class="variablelist "><dl class="variablelist"><dt id="id-1.4.8.2.5.1"><span class="term ">External</span></dt><dd><p>This machine will host the <code class="literal">Repository Mirroring Tool (RMT)</code> for RPM packages and the <code class="literal">container image registry</code> for container images.</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p><code class="literal">1</code> Host machines for the mirror servers.</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>SLES 15</p></li><li class="listitem "><p>2 (v)CPU</p></li><li class="listitem "><p>4 GB RAM</p></li><li class="listitem "><p>250 GB Storage</p></li></ul></div></li></ul></div></dd><dt id="id-1.4.8.2.5.2"><span class="term ">Internal (Air gapped)</span></dt><dd><p>This machine will host the <code class="literal">Repository Mirroring Tool (RMT)</code> for RPM packages, and <code class="literal">container image registry</code> for container images as well as the <code class="literal">Helm chart repository</code> files.</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p><code class="literal">1</code> Host machines for the mirror servers.</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>SLES 15</p></li><li class="listitem "><p>2 (v)CPU</p></li><li class="listitem "><p>8 GB RAM</p></li><li class="listitem "><p>500 GB Storage</p></li></ul></div></li></ul></div></dd></dl></div><div id="id-1.4.8.2.6" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Adjust Number Of Mirror Servers</h6><p>This scenario description does not contain any fallback contingencies for the mirror servers.
Add additional mirror servers (behind a load balancer) if you require additional reliability/availability.</p></div><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Provision Mirror Servers </span><a title="Permalink" class="permalink" href="#id-1.4.8.2.7">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p><a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-installquick/#art-sle-installquick" target="_blank">Set up two SUSE Linux Enterprise Server 15 machines</a> one on the internal network and one on the air gapped network.</p></li><li class="listitem "><p>Make sure you have <a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-dockerquick/#Preparation" target="_blank">enabled the Containers module</a> on both servers.</p></li><li class="listitem "><p>Make sure you have <a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-rmt/#cha-rmt-installation" target="_blank">Repository Mirroring Tool installed</a> on both server.</p></li></ol></div></div><div class="sect2" id="airgap-requirements-network"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.3.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Networking</span> <a title="Permalink" class="permalink" href="#airgap-requirements-network">#</a></h3></div></div></div><div id="id-1.4.8.3.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Additional Port Configuration</h6><p>If you choose to add more container image registries to your internal network, these must run on different ports than the standard registry running on <code class="literal">5000</code>.
Configure your network to allow for this communication accordingly.</p></div><div class="sect3" id="_ports"><div class="titlepage"><div><div><h4 class="title"><span class="number">1.3.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Ports</span> <a title="Permalink" class="permalink" href="#_ports">#</a></h4></div></div></div><p>The external mirror server must be able to exchange outgoing traffic with upstream sources on ports <code class="literal">80</code> and <code class="literal">443</code>.</p><p>All members of the SUSE CaaS Platform
cluster must be able to communicate with the internal mirror server(s) within the air gapped network.
You must configure at least these ports in all firewalls between the cluster and the internal mirror:</p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>80 HTTP - Repository Mirroring Tool (RMT) Server and Helm chart repository mirror</p></li><li class="listitem "><p>443 HTTPS - Repository Mirroring Tool (RMT) Server and Helm chart repository mirror</p></li><li class="listitem "><p>5000 HTTPS - Container image registry</p></li></ul></div></div><div class="sect3" id="_hostnames_fqdn"><div class="titlepage"><div><div><h4 class="title"><span class="number">1.3.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Hostnames / FQDN</span> <a title="Permalink" class="permalink" href="#_hostnames_fqdn">#</a></h4></div></div></div><p>You need to define fully qualified domain names (FQDN) for both of the mirror servers in their respective network.
These hostnames are the basis for the required SSL certificates and are used by the components to access the respective mirror sources.</p></div><div class="sect3" id="airgap-ssl-certificates"><div class="titlepage"><div><div><h4 class="title"><span class="number">1.3.2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">SSL Certificates</span> <a title="Permalink" class="permalink" href="#airgap-ssl-certificates">#</a></h4></div></div></div><p>You will need SSL/TLS certificates to secure services on each server.</p><p>On the air gapped network, certificates need to cover the hostname of your server and the subdomains for the registry (<code class="literal">registry.</code>) and helm chart repository (<code class="literal">charts.</code>). You must add corresponding aliases to the certificate.</p><div id="id-1.4.8.3.5.4" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip</h6><p>You can use wildcard certificates to cover the entire hostname.</p></div><p>The certificates can be replaced with the self-signed certificate, or you can re-use the certificates created by Repository Mirroring Tool (RMT) during the setup of the mirror servers.</p><p>Place the certificate, CA certificate and key file in <code class="literal">/etc/rmt/ssl/</code>
as <code class="literal">rmt-server.crt</code>, <code class="literal">rmt-ca.cert</code>, and <code class="literal">rmt-server.key</code>.</p><p>These certificates can be re-used by all three mirror services.</p><p>Make sure the CA certificate is available to SUSE CaaS Platform
system wide; so they can be used by the deployed components.</p><p>You can add system wide certificates with following commands on all nodes:</p><div class="verbatim-wrap"><pre class="screen">sudo cp /etc/rmt/ssl/rmt-ca.crt /etc/pki/trust/anchors/
sudo update-ca-certificates</pre></div></div></div><div class="sect2" id="airgap-requirements-storage"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.3.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Trusted Storage</span> <a title="Permalink" class="permalink" href="#airgap-requirements-storage">#</a></h3></div></div></div><p>Transferring data from the external network mirror to the internal mirror can be performed in many ways.
The most common way is portable storage (USB keys or external hard drives).</p><p>Sizing of the storage is dependent on the number of data sources that need to be stored.
Container images can easily measure several Gigabytes per item; although they are generally smaller for Kubernetes
related applications.
The overall size of any given RPM repository is at least tens of Gigabytes.
For example: At the time of writing, the package repository for SUSE Linux Enterprise Server
contains approximately <code class="literal">36 GB</code> of data.</p><p>The storage must be formatted to a file system type supporting files larger than <code class="literal">4 GB</code>.</p><p>We recommend external storage with at least <code class="literal">128 GB</code>.</p><div id="id-1.4.8.4.6" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Mount Point For Storage In Examples</h6><p>In the following procedures, we will assume the storage (when connected) is mounted on <code class="literal">/mnt/storage</code>
.
Please make sure to adjust the mountpoint in the respective command to where the device is actually available.</p></div><div id="id-1.4.8.4.7" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Handling Of Trusted Storage</h6><p>Data integrity checks, duplication, backup, and secure handling procedures of trusted storage are beyond the scope of this document.</p></div></div></div><div class="sect1" id="airgap-rpm_repository"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">RPM Repository Mirror</span> <a title="Permalink" class="permalink" href="#airgap-rpm_repository">#</a></h2></div></div></div><div class="sect2" id="airgap-rpm_repository-mirror"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mirror Configuration</span> <a title="Permalink" class="permalink" href="#airgap-rpm_repository-mirror">#</a></h3></div></div></div><div id="id-1.4.9.2.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Deploy The Mirror Before SUSE CaaS PlatformCluster Deployment</h6><p>The mirror on the air gapped network must be running and populated before</p></div><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Configure The External Mirror </span><a title="Permalink" class="permalink" href="#id-1.4.9.2.3">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>Connect the external mirror to SUSE Customer Center as described in <a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-rmt/#sec-rmt-mirroring-credentials" target="_blank">these instructions</a>.</p><div id="id-1.4.9.2.3.2.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Mirror Registration</h6><p>During the installation of Repository Mirroring Tool (RMT)
you will be asked for login credentials.
On the external mirror, you need to enter your SUSE Customer Center
login credentials to register.
On the internal mirror, you can skip the SUSE Customer Center login since the registration will not be possible without an internet connection to SUSE Customer Center
.</p></div></li><li class="listitem "><p>You need to disable the automatic repository sync on the internal server. Otherwise it will attempt to download information from SUSE Customer Center which can not be reached from inside the air gapped network.</p><div class="verbatim-wrap"><pre class="screen">sudo systemctl stop rmt-server-sync.timer
sudo systemctl disable rmt-server-sync.timer</pre></div></li></ol></div><p>Now you need to perform the update procedure to do an initial sync of data between the upstream sources and the external mirror and the external and internal mirrors.
Refer to: <a class="xref" href="#airgap-rpm_repository-update" title="1.5. Updating RPM Repository Mirror">Section 1.5, “Updating RPM Repository Mirror”</a>.</p></div><div class="sect2" id="airgap-rpm_repository-client"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Client Configuration</span> <a title="Permalink" class="permalink" href="#airgap-rpm_repository-client">#</a></h3></div></div></div><p><a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-rmt/#cha-rmt-client" target="_blank">Follow these instructions</a> to configure all SUSE CaaS Platform
 nodes to use the package repository mirror server in the air gapped network.</p></div></div><div class="sect1" id="airgap-rpm_repository-update"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Updating RPM Repository Mirror</span> <a title="Permalink" class="permalink" href="#airgap-rpm_repository-update">#</a></h2></div></div></div><p><a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-rmt/#sec-rmt-mirroring-export-import" target="_blank">Follow these instructions</a> to update the external server, transfer the data to a storage device, and use that device to update the air gapped server.</p></div><div class="sect1" id="airgap-container_registry"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Container Registry Mirror</span> <a title="Permalink" class="permalink" href="#airgap-container_registry">#</a></h2></div></div></div><div id="id-1.4.11.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Mirroring Multiple Image Registries / Chart Repositories</h6><p>You can mirror images and charts from multiple registries in one shared internal registry.
We do not recommend mirroring multiple registries in a shared registry due to the potential conflicts.</p><p>We highly recommend running separate helm chart and container registry mirrors for each source registry.</p><p>Additional mirror registries must be run on separate mirror servers for technical reasons.</p></div><div class="sect2" id="airgap-container_registry-mirror"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.6.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mirror Configuration</span> <a title="Permalink" class="permalink" href="#airgap-container_registry-mirror">#</a></h3></div></div></div><p>The container image registry is provided as a container image itself.
You must download the registry container from SUSE
and run it on the respective server.</p><div id="id-1.4.11.3.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Which images to Mirror</h6><p>CaaS Platform requires a base set of images to be mirrored, as they contain the core services needed to run the cluster.</p><p>This list of base images can be found under the following link: <a class="link" href="https://documentation.suse.com/external-tree/en-us/suse-caasp/4/skuba-cluster-images.txt" target="_blank">https://documentation.suse.com/external-tree/en-us/suse-caasp/4/skuba-cluster-images.txt</a></p><p>Alternatively, the list can be obtained from <code class="literal">skuba</code> - just run this command on the machine you have <code class="literal">skuba</code> installed on:</p><div class="verbatim-wrap"><pre class="screen">skuba cluster images</pre></div><p>This will print out a list of the images skuba is expecting to use on the cluster to be bootstrapped.</p><p>Mirror those and setup the crio-registries to point to the location they are mirrored at.</p></div><div id="id-1.4.11.3.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important</h6><p>These images need to be available in the external and internal mirrors at the time you try to deploy SUSE CaaS Platform.
Image tags will vary depending on the version of kubernetes you install.</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td align="left" valign="top"><p>CATEGORY</p></td><td align="left" valign="top"><p>IMAGE</p></td><td align="left" valign="top"><p>URL</p></td></tr><tr><td align="left" valign="top"><p>KUBEADM</p></td><td align="left" valign="top"><p>hyperkube</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/hyperkube</p></td></tr><tr><td align="left" valign="top"><p>KUBEADM</p></td><td align="left" valign="top"><p>pause</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/pause</p></td></tr><tr><td align="left" valign="top"><p>KUBEADM</p></td><td align="left" valign="top"><p>coredns</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/coredns</p></td></tr><tr><td align="left" valign="top"><p>KUBEADM</p></td><td align="left" valign="top"><p>etcd</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/etcd</p></td></tr><tr><td align="left" valign="top"><p>ADDONS</p></td><td align="left" valign="top"><p>cilium</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/cilium-init</p></td></tr><tr><td align="left" valign="top"><p>ADDONS</p></td><td align="left" valign="top"><p>cilium</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/cilium-operator</p></td></tr><tr><td align="left" valign="top"><p>ADDONS</p></td><td align="left" valign="top"><p>cilium</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/cilium</p></td></tr><tr><td align="left" valign="top"><p>ADDONS</p></td><td align="left" valign="top"><p>dex</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/caasp-dex</p></td></tr><tr><td align="left" valign="top"><p>ADDONS</p></td><td align="left" valign="top"><p>gangway</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/gangway</p></td></tr><tr><td align="left" valign="top"><p>ADDONS</p></td><td align="left" valign="top"><p>kured</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/kured</p></td></tr><tr><td align="left" valign="top"><p>MISC</p></td><td align="left" valign="top"><p>skuba-tooling</p></td><td align="left" valign="top"><p>registry.suse.com/caasp/v4.5/skuba-tooling</p></td></tr></tbody></table></div></div><div id="id-1.4.11.3.5" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Internal Registry Mirror Is Read Only</h6><p>For security reasons, the internal registry mirror is configured in <code class="literal">read-only</code> mode.
Therefore, pushing container images to this mirror will not be possible.
It can only serve images that were previously pulled and cached by the external mirror and then uploaded to the internal mirror.</p><p>You can modify and store your own container images on the external registry and transfer them with the other container images using the same process.
If you need to be able to modify and store container images on the internal network, we recommend creating a new registry that will hold these images.
The steps needed to run your own full container image registry are not part of this document.</p><p>For more information you can refer to: <a class="link" href="https://documentation.suse.com/sles/15-SP2/single-html/SLES-dockerquick/#sec-docker-registry-definition" target="_blank">SLES15 - Docker Open Source Engine Guide: What is Docker Registry?</a>.</p></div><p>We will re-use the nginx webserver that is running as part of Repository Mirroring Tool (RMT)
to act as a reverse proxy for the container image registry service and to serve the chart repository files.
This step is not necessary for the external host.</p><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Set Up Reverse Proxy and Virtual Host </span><a title="Permalink" class="permalink" href="#id-1.4.11.3.7">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>SSH into the internal mirror server.</p></li><li class="listitem "><p>Create a virtual host configuration file <code class="literal">/etc/nginx/vhosts.d/registry-server-https.conf</code> .</p><p>Replace <code class="literal">mymirror.local</code> with the hostname of your mirror server for which you created the SSL certificates.</p><div class="verbatim-wrap"><pre class="screen">upstream docker-registry {
    server 127.0.0.1:5000;
}

map $upstream_http_docker_distribution_api_version $docker_distribution_api_version {
  '' 'registry/2.0';
}

server {
    listen 443   ssl;
    server_name  registry.`mymirror.local`;

    access_log  /var/log/nginx/registry_https_access.log;
    error_log   /var/log/nginx/registry_https_error.log;
    root        /usr/share/rmt/public;

    ssl_certificate     /etc/rmt/ssl/rmt-server.crt;
    ssl_certificate_key /etc/rmt/ssl/rmt-server.key;
    ssl_protocols       TLSv1.2 TLSv1.3;

    # disable any limits to avoid HTTP 413 for large image uploads
    client_max_body_size 0;

    location /v2/ {
      # Do not allow connections from docker 1.5 and earlier
      # docker pre-1.6.0 did not properly set the user agent on ping, catch "Go *" user agents
      if ($http_user_agent ~ "^(docker\/1\.(3|4|5(?!\.[0-9]-dev))|Go ).*$" ) {
        return 404;
      }

      ## If $docker_distribution_api_version is empty, the header is not added.
      ## See the map directive above where this variable is defined.
      add_header 'Docker-Distribution-Api-Version' $docker_distribution_api_version always;

      proxy_pass                          http://docker-registry;
      proxy_set_header  Host              $http_host;   # required for docker client's sake
      proxy_set_header  X-Real-IP         $remote_addr; # pass on real client's IP
      proxy_set_header  X-Forwarded-For   $proxy_add_x_forwarded_for;
      proxy_set_header  X-Forwarded-Proto $scheme;
      proxy_read_timeout                  900;
    }
}</pre></div></li><li class="listitem "><p>Create a virtual host configuration file <code class="literal">/etc/nginx/vhosts.d/charts-server-https.conf</code> .</p><p>Replace <code class="literal">mymirror.local</code> with the hostname of your mirror server for which you created the SSL certificates.</p><div class="verbatim-wrap"><pre class="screen">server {
  listen 443   ssl;
  server_name  charts.`mymirror.local`;

  access_log  /var/log/nginx/charts_https_access.log;
  error_log   /var/log/nginx/charts_https_error.log;
  root        /srv/www/;

  ssl_certificate     /etc/rmt/ssl/rmt-server.crt;
  ssl_certificate_key /etc/rmt/ssl/rmt-server.key;
  ssl_protocols       TLSv1.2 TLSv1.3;

  location /charts {
    autoindex on;
  }
}</pre></div></li><li class="listitem "><p>Restart nginx for the changes to take effect.</p><div class="verbatim-wrap"><pre class="screen">sudo systemctl restart nginx</pre></div></li></ol></div><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Set Up The External Mirror </span><a title="Permalink" class="permalink" href="#id-1.4.11.3.8">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>SSH into the external mirror server.</p></li><li class="listitem "><p>Install <code class="literal">docker</code> , <code class="literal">helm-mirror</code> and <code class="literal">skopeo</code> .</p><div class="verbatim-wrap"><pre class="screen">sudo zypper in docker helm-mirror skopeo</pre></div></li><li class="listitem "><p>Start the docker service and enable it at boot time:</p><div class="verbatim-wrap"><pre class="screen">sudo systemctl enable --now docker.service</pre></div></li><li class="listitem "><p>Pull the registry container image from SUSE .</p><div class="verbatim-wrap"><pre class="screen">sudo docker pull registry.suse.com/sles12/registry:2.6.2</pre></div></li><li class="listitem "><p>Save the pulled image to a <code class="literal">.tar</code> file.</p><div class="verbatim-wrap"><pre class="screen">sudo docker save -o /tmp/registry.tar registry.suse.com/sles12/registry:2.6.2</pre></div></li><li class="listitem "><p>Connect the trusted storage to the external mirror. Copy the registry image onto the storage.</p><div class="verbatim-wrap"><pre class="screen">mv /tmp/registry.tar /mnt/storage/registry.tar</pre></div></li><li class="listitem "><p>Create basic authentication credentials for the container image registry.</p><p>Replace <code class="literal">USERNAME</code> and <code class="literal">PASSWORD</code> with proper credentials of your choosing.</p><div class="verbatim-wrap"><pre class="screen">sudo mkdir -p /etc/docker/registry/{auth,certs}
sudo docker run --entrypoint htpasswd registry.suse.com/sles12/registry:2.6.2 -Bbn &lt;USERNAME&gt; &lt;PASSWORD&gt; | sudo tee /etc/docker/registry/auth/htpasswd</pre></div></li><li class="listitem "><p>Create the <code class="literal">/etc/docker/registry/config.yml</code> configuration file.</p><div id="id-1.4.11.3.8.9.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><p>Setting up a required authentication seems to break, when using CRI-O as the client, so the internal registry does not use any authentication.</p></div><div class="verbatim-wrap"><pre class="screen">version: 0.1
log:
  fields:
    service: registry
storage:
  cache:
    blobdescriptor: inmemory
  filesystem:
    rootdirectory: /var/lib/registry
http:
  addr: 0.0.0.0:5000
  headers:
    X-Content-Type-Options: [nosniff]
health:
  storagedriver:
    enabled: true
    interval: 10s
threshold: 3</pre></div><p>For more details on the configuration, refer to: <a class="link" href="https://docs.docker.com/registry/configuration/" target="_blank">Docker
Registry: Configuration</a></p></li><li class="listitem "><p>Start the registry container.</p><div class="verbatim-wrap"><pre class="screen">sudo docker run -d -p 5000:5000 -v /etc/rmt/ssl:/etc/rmt/ssl:ro --restart=always --name registry \
-v /etc/docker/registry:/etc/docker/registry:ro \
-v /var/lib/registry:/var/lib/registry registry.suse.com/sles12/registry:2.6.2</pre></div></li></ol></div><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Set Up Internal Mirror </span><a title="Permalink" class="permalink" href="#id-1.4.11.3.9">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>SSH into the internal mirror server.</p></li><li class="listitem "><p>Install <code class="literal">docker</code> .</p><div class="verbatim-wrap"><pre class="screen">sudo zypper in docker</pre></div></li><li class="listitem "><p>Start the docker service and enable it at boot time:</p><div class="verbatim-wrap"><pre class="screen">sudo systemctl enable --now docker.service</pre></div></li><li class="listitem "><p>Connect the trusted storage to the internal mirror and load the registry container image to the local file system.</p><div class="verbatim-wrap"><pre class="screen">sudo docker load -i /mnt/storage/registry.tar</pre></div></li><li class="listitem "><p>Create the <code class="literal">/etc/docker/registry/config.yml</code> configuration file.</p><div class="verbatim-wrap"><pre class="screen">sudo mkdir -p /etc/docker/registry/</pre></div><div class="verbatim-wrap"><pre class="screen">version: 0.1
log:
  fields:
    service: registry
storage:
  cache:
    blobdescriptor: inmemory
  filesystem:
    rootdirectory: /var/lib/registry
  maintenance:
    readonly:
      enabled: true
http:
  addr: 0.0.0.0:5000
  headers:
    X-Content-Type-Options: [nosniff]
  tls:
    certificate: /etc/rmt/ssl/rmt-server.crt
    key: /etc/rmt/ssl/rmt-server.key
health:
  storagedriver:
    enabled: true
    interval: 10s
threshold: 3</pre></div><p>For more details on the configuration, refer to: <a class="link" href="https://docs.docker.com/registry/configuration/" target="_blank">Docker
Registry: Configuration</a></p></li><li class="listitem "><p>Start the registry container.</p><div class="verbatim-wrap"><pre class="screen">sudo docker run -d -p 5000:5000 -v /etc/rmt/ssl:/etc/rmt/ssl:ro --restart=always --name registry \
-v /etc/docker/registry:/etc/docker/registry:ro \
-v /var/lib/registry:/var/lib/registry registry.suse.com/sles12/registry:2.6.2</pre></div></li></ol></div><p>Now, you should have the registries set up and listening on port <code class="literal">5000</code> on their respective servers.</p></div><div class="sect2" id="airgap-container_registry-client"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.6.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Client Configuration</span> <a title="Permalink" class="permalink" href="#airgap-container_registry-client">#</a></h3></div></div></div><div id="id-1.4.11.4.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important</h6><p>The example provided with the installation is in the old <code class="literal">v1</code> format of the CRI-O registries syntax.
You must replace/remove all content from the example file and build a new file based on the <code class="literal">v2</code> syntax.</p><p>The example below is written in the correct <code class="literal">v2</code> syntax. <code class="literal">registries.conf</code> is written using <a class="link" href="https://github.com/toml-lang/toml" target="_blank">TOML</a>.</p></div><p>Configure <code class="literal">/etc/containers/registries.conf</code> to setup the mirroring from <code class="literal">registry.suse.com</code> to the <code class="literal">internal mirror</code>.
This needs to be done on all cluster nodes. Make sure to adjust all the correct domain name for your local registry:</p><div class="verbatim-wrap"><pre class="screen">[[registry]]
prefix = "registry.suse.com"
location = "registry01.mydomain.local:5000/registry.suse.com"
[[registry]]
prefix = "docker.io"
location = "registry01.mydomain.local:5000/docker.io"
[[registry]]
prefix = "docker.io/library"
location = "registry01.mydomain.local:5000/docker.io"
[[registry]]
prefix = "quay.io"
location = "registry01.mydomain.local:5000/quay.io"
[[registry]]
prefix = "k8s.gcr.io"
location = "registry01.mydomain.local:5000/k8s.gcr.io"
[[registry]]
prefix = "gcr.io"
location = "registry01.mydomain.local:5000/gcr.io"</pre></div><p>For detailed information about the configuration format see <a class="link" href="html/caasp-admin/_miscellaneous.html#_configuring_container_registries_for_cri_o" target="_blank">html/caasp-admin/_miscellaneous.html#_configuring_container_registries_for_cri_o</a>.</p></div></div><div class="sect1" id="airgap-helm_charts"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Helm Chart Repository Mirror</span> <a title="Permalink" class="permalink" href="#airgap-helm_charts">#</a></h2></div></div></div><div id="id-1.4.12.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important</h6><p>To make use of the helm charts, you must complete <a class="xref" href="#airgap-container_registry" title="1.6. Container Registry Mirror">Section 1.6, “Container Registry Mirror”</a>.</p></div><p>The helm charts will require images available from a registry mirror.
The charts themselves are served on a simple webserver and do not require any particular configuration apart from basic networking availability and a hostname.</p><div class="sect2" id="_mirror_configuration"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.7.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Mirror Configuration</span> <a title="Permalink" class="permalink" href="#_mirror_configuration">#</a></h3></div></div></div><p>Update the Helm chart repository by following the shared update procedure <a class="xref" href="#airgap-update" title="1.8. Updating Registry Mirror For Helm Charts">Section 1.8, “Updating Registry Mirror For Helm Charts”</a>.</p></div><div class="sect2" id="airgap-helm_charts-client"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.7.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Client Configuration</span> <a title="Permalink" class="permalink" href="#airgap-helm_charts-client">#</a></h3></div></div></div><p>Add the webserver as a repo to <code class="literal">helm</code>.</p><p>This step needs to be performed on a machine where Helm is installed and configured in the SUSE CaaS Platform cluster.
For steps to install Helm, refer to <a class="link" href="https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_software_management.html#helm-install" target="_blank">https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_software_management.html#helm-install</a>.</p><p>To initialize Helm, use the command:</p><div class="verbatim-wrap"><pre class="screen">helm init --client-only --skip-refresh</pre></div><p><code class="literal">&lt;SUSE_MIRROR&gt;</code> will be the user-defined name for this repository listed by Helm.
The name of the repository must adhere to <a class="link" href="https://docs.helm.sh/chart_best_practices/#chart-names" target="_blank">Helm Chart naming conventions</a>.</p><div class="verbatim-wrap"><pre class="screen">helm repo add &lt;SUSE_MIRROR&gt; https://charts.&lt;MYMIRROR.LOCAL&gt;</pre></div></div></div><div class="sect1" id="airgap-update"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Updating Registry Mirror For Helm Charts</span> <a title="Permalink" class="permalink" href="#airgap-update">#</a></h2></div></div></div><div id="id-1.4.13.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Live Update Of Registry</h6><p>There is no need to stop the container image registry services while doing the update procedures.
All changed images will be re-indexed automatically.</p></div><p>Helm charts and container images must be refreshed in the same procedure, otherwise charts might refer to image versions that are not mirrored or you are mirroring outdated image versions that cause the chart deployment to fail.</p><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Pull Data From Upstream Sources </span><a title="Permalink" class="permalink" href="#id-1.4.13.4">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>SSH into the mirror server on the external network.</p></li><li class="listitem "><p>Download all charts from the repository to the file system (e.g. <code class="literal">/tmp/charts</code> ).</p><p>This action will download all charts and overwrite the existing Helm chart repository URL.
Replace <code class="literal"><a class="link" href="http://charts.mymirror.local" target="_blank">http://charts.mymirror.local</a></code> with the hostname of the webserver providing the Helm chart repository on the internal network.</p><div class="verbatim-wrap"><pre class="screen">mkdir /tmp/charts
cd /tmp/charts</pre></div><div class="verbatim-wrap"><pre class="screen">helm-mirror --new-root-url http://charts.mymirror.local https://kubernetes-charts.suse.com /tmp/charts</pre></div></li><li class="listitem "><p>Translate the chart information into the <code class="literal">skopeo</code> format.</p><div class="verbatim-wrap"><pre class="screen">helm-mirror inspect-images /tmp/charts -o skopeo=sync.yaml --ignore-errors</pre></div><div id="id-1.4.13.4.4.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Ignoring Chart Errors</h6><p>The <code class="literal">helm-mirror</code> tool will attempt to render and inspect all downloaded charts.
Some charts will have values that are filled from environment data on their source repository and produce errors.
You can still proceed with this step by using the <code class="literal">--ignore-errors</code> flag.</p></div></li><li class="listitem "><p>Download all the referenced images using <code class="literal">skopeo</code>.</p><div class="verbatim-wrap"><pre class="screen">mkdir /tmp/skopeodata
skopeo sync --src yaml --dest dir sync.yaml /tmp/skopeodata</pre></div><p><code class="literal">skopeo</code> will automatically create a directory named after the hostname of the registry from which you are downloading the images.
The final path will be something like <code class="literal">/tmp/skopeodata/registry.suse.com/</code>
.</p></li><li class="listitem "><p>Populate the local registry with the downloaded data.</p><p>For <code class="literal">--dest-creds</code> you must use the credentials you created during <a class="xref" href="#airgap-container_registry-mirror" title="1.6.1. Mirror Configuration">Section 1.6.1, “Mirror Configuration”</a>.</p><div class="verbatim-wrap"><pre class="screen">skopeo sync --dest-creds USERNAME:PASSWORD \
--src dir --dest docker \
/tmp/skopeodata/registry.suse.com/ mymirror.local:5000</pre></div></li><li class="listitem "><p>After the synchronization is done, you can remove the <code class="literal">skopeodata</code> directory.</p><div class="verbatim-wrap"><pre class="screen">rm -rf /tmp/skopeodata</pre></div></li></ol></div><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Transfer Data To Secure Storage </span><a title="Permalink" class="permalink" href="#id-1.4.13.5">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>Connect the trusted storage to the external mirror.</p></li><li class="listitem "><p>Transfer the container image data to the trusted storage. This will remove all files and directories that are no longer present on the external host from the trusted storage.</p><div class="verbatim-wrap"><pre class="screen">rsync -aP /var/lib/registry/ /mnt/storage/registry/ --delete</pre></div></li><li class="listitem "><p>Transfer the helm chart data to the trusted storage.</p><div class="verbatim-wrap"><pre class="screen">rsync -aP /tmp/charts/ /mnt/storage/charts --delete</pre></div></li><li class="listitem "><p>Connect the trusted storage to the internal mirror.</p></li><li class="listitem "><p>Transfer the container image data to the internal mirror. This will remove all files and directories that are no longer present on the trusted storage from the internal mirror.</p><p>The target directory is <code class="literal">/var/lib/registry</code>.</p><div class="verbatim-wrap"><pre class="screen">rsync -aP /mnt/storage/registry/ /var/lib/registry/ --delete</pre></div></li><li class="listitem "><p>Transfer the helm chart data to the internal mirror. This will remove all charts that do not exist on the trusted storage. If you have added any charts to the location manually, please back up these first and restore after the sync from the trusted storage is done.</p><div class="verbatim-wrap"><pre class="screen">rsync -aP /mnt/storage/charts/ /srv/www/charts/ --delete</pre></div></li><li class="listitem "><p>Set the file permissions and ownership to <code class="literal">555</code> and <code class="literal">nginx:nginx</code>.</p><div class="verbatim-wrap"><pre class="screen">sudo chown -R nginx:nginx /srv/www/charts sudo chmod -R 555 /srv/www/charts/</pre></div></li></ol></div><div class="orderedlist "><div class="orderedlist-title-wrap"><h6 class="orderedlist-title"><span class="name">Procedure: Refresh information on the SUSE CaaS Platformcluster </span><a title="Permalink" class="permalink" href="#id-1.4.13.6">#</a></h6></div><ol class="orderedlist" type="1"><li class="listitem "><p>Update the repository information on the machine on which you are using Helm to install software to the cluster.</p><div class="verbatim-wrap"><pre class="screen">helm repo update</pre></div><p>You can now deploy additional software on your SUSE CaaS Platform
Refer to: <a class="link" href="https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_software_management.html#software-installation" target="_blank">https://documentation.suse.com/suse-caasp/4.5/html/caasp-admin/_software_management.html#software-installation</a>.</p></li></ol></div></div><div class="sect1" id="airgap-caasp_deployment"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Deploying SUSE CaaS Platform</span> <a title="Permalink" class="permalink" href="#airgap-caasp_deployment">#</a></h2></div></div></div><p>Use the SUSE CaaS Platform <a class="link" href="https://documentation.suse.com/suse-caasp/4.5/html/caasp-deployment/" target="_blank">Deployment Guide</a> as usual.
Some of the considerations below apply; depending of the chosen installation medium.</p><p>Make sure to add the CA certificate of your Repository Mirroring Tool (RMT) server during deployment.
Refer to: <a class="xref" href="#airgap-ssl-certificates" title="1.3.2.3. SSL Certificates">Section 1.3.2.3, “SSL Certificates”</a>.</p><div class="sect2" id="_using_the_iso"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.9.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using the ISO</span> <a title="Permalink" class="permalink" href="#_using_the_iso">#</a></h3></div></div></div><p>From YaST register the node against the Repository Mirroring Tool (RMT) server.
This will ensure the node zypper repositories are pointed against Repository Mirroring Tool (RMT).
Moreover, all the available updates are going to be installed and there is no need to manually install updates right after the installation.</p></div><div class="sect2" id="_using_autoyast"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.9.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Using AutoYaST</span> <a title="Permalink" class="permalink" href="#_using_autoyast">#</a></h3></div></div></div><p>Ensure the admin node is registered against Repository Mirroring Tool (RMT), that will ensure the nodes that are provisioned by AutoYaST are registered against Repository Mirroring Tool (RMT)
to have all the updates applied.</p></div></div><div class="sect1" id="airgap-troubleshooting"><div class="titlepage"><div><div><h2 class="title"><span class="number">1.10 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="#airgap-troubleshooting">#</a></h2></div></div></div><div class="sect2" id="_skopeo_fails_because_of_self_signed_certificate"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.10.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Skopeo Fails Because Of Self Signed Certificate</span> <a title="Permalink" class="permalink" href="#_skopeo_fails_because_of_self_signed_certificate">#</a></h3></div></div></div><p>If you are using a self-signed certificate for the registry you can use the <code class="literal">--dest-cert-dir /path/to/the/cert</code> parameter to provide the certificate.</p></div><div class="sect2" id="_registering_an_existing_node_against_repository_mirroring_tool_rmt"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.10.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Registering An Existing Node against Repository Mirroring Tool (RMT)</span> <a title="Permalink" class="permalink" href="#_registering_an_existing_node_against_repository_mirroring_tool_rmt">#</a></h3></div></div></div><p>Refer to: <a class="xref" href="#airgap-rpm_repository-client" title="1.4.2. Client Configuration">Section 1.4.2, “Client Configuration”</a>.</p></div><div class="sect2" id="_helm_chart_connection_terminated_by_https_to_http"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.10.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Helm chart connection terminated by HTTPS TO HTTP</span> <a title="Permalink" class="permalink" href="#_helm_chart_connection_terminated_by_https_to_http">#</a></h3></div></div></div><p>When registry mirror is using virtual repository URL. You may need to manually modify the Helm chart index.yaml and point the correct HTTPS base URL.</p></div><div class="sect2" id="_glossary"><div class="titlepage"><div><div><h3 class="title"><span class="number">1.10.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Glossary</span> <a title="Permalink" class="permalink" href="#_glossary">#</a></h3></div></div></div><div class="horizontal"><table class="horizontal" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>AWS</p>
</td><td valign="top">
<p>Amazon Web Services. A broadly adopted cloud platform run by Amazon.</p>
</td></tr><tr><td valign="top">
<p>BPF</p>
</td><td valign="top">
<p>Berkeley Packet Filter. Technology used by Cilium to filter network traffic at the level of packet processing in the kernel.</p>
</td></tr><tr><td valign="top">
<p>CA</p>
</td><td valign="top">
<p>Certificate or Certification Authority. An entity that issues digital certificates.</p>
</td></tr><tr><td valign="top">
<p>CIDR</p>
</td><td valign="top">
<p>Classless Inter-Domain Routing. Method for allocating IP addresses and IP routing.</p>
</td></tr><tr><td valign="top">
<p>CNI</p>
</td><td valign="top">
<p>Container Networking Interface. Creates a generic plugin-based networking solution for containers based on spec files in JSON format.</p>
</td></tr><tr><td valign="top">
<p>CRD</p>
</td><td valign="top">
<p>Custom Resource Definition. Functionality to define non-default resources for Kubernetes pods.</p>
</td></tr><tr><td valign="top">
<p>FQDN</p>
</td><td valign="top">
<p>Fully Qualified Domain Name. The complete domain name for a specific computer, or host, on the internet, consisting of two parts: the hostname and the domain name.</p>
</td></tr><tr><td valign="top">
<p>GKE</p>
</td><td valign="top">
<p>Google Kubernetes Engine. Manager for container orchestration built on Kubernetes by Google. Similar for example to Amazon Elastic Kubernetes Service (Amazon EKS) and Azure Kubernetes Service (AKS).</p>
</td></tr><tr><td valign="top">
<p>HPA</p>
</td><td valign="top">
<p>Horizontal Pod Autoscaler. Based on CPU usage, HPA controls the number of pods in a deployment/replica or stateful set or a replication controller.</p>
</td></tr><tr><td valign="top">
<p>KVM</p>
</td><td valign="top">
<p>Kernel-based Virtual Machine. Linux native virtualization tool that allows the kernel to function as a hypervisor.</p>
</td></tr><tr><td valign="top">
<p>LDAP</p>
</td><td valign="top">
<p>Lightweight Directory Access Protocol. A client/server protocol used to access and manage directory information. It reads and edits directories over IP networks and runs directly over TCP/IP using simple string formats for data transfer.</p>
</td></tr><tr><td valign="top">
<p>OCI</p>
</td><td valign="top">
<p>Open Containers Initiative. A project under the Linux Foundation with the goal of creating open industry standards around container formats and runtime.</p>
</td></tr><tr><td valign="top">
<p>OIDC</p>
</td><td valign="top">
<p>OpenID Connect. Identity layer on top of the OAuth 2.0 protocol.</p>
</td></tr><tr><td valign="top">
<p>OLM</p>
</td><td valign="top">
<p>Operator Lifecycle Manager. Open Source tool for managing operators in a Kubernetes cluster.</p>
</td></tr><tr><td valign="top">
<p>POC</p>
</td><td valign="top">
<p>Proof of Concept. Pioneering project directed at proving the feasibility of a design concept.</p>
</td></tr><tr><td valign="top">
<p>PSP</p>
</td><td valign="top">
<p>Pod Security Policy. PSPs are cluster-level resources that control security-sensitive aspects of pod specification.</p>
</td></tr><tr><td valign="top">
<p>PVC</p>
</td><td valign="top">
<p>Persistent Volume Claim. A request for storage by a user.</p>
</td></tr><tr><td valign="top">
<p>RBAC</p>
</td><td valign="top">
<p>Role-based Access Control. An approach to restrict authorized user access based on defined roles.</p>
</td></tr><tr><td valign="top">
<p>RMT</p>
</td><td valign="top">
<p>Repository Mirroring Tool. Successor of the SMT. Helps optimize the management of SUSE Linux Enterprise software updates and subscription entitlements.</p>
</td></tr><tr><td valign="top">
<p>RPO</p>
</td><td valign="top">
<p>Recovery Point Objective. Defines the interval of time that can occur between to backup points before normal business can no longer be resumed.</p>
</td></tr><tr><td valign="top">
<p>RTO</p>
</td><td valign="top">
<p>Recovery Time Objective. This defines the time (and typically service level from SLA) with which backup relevant incidents must be handled within.</p>
</td></tr><tr><td valign="top">
<p>RSA</p>
</td><td valign="top">
<p>Rivest-Shamir-Adleman. Asymmetric encryption technique that uses two different keys as public and private keys to perform the encryption and decryption.</p>
</td></tr><tr><td valign="top">
<p>SLA</p>
</td><td valign="top">
<p>Service Level Agreement. A contractual clause or set of clauses that determines the guaranteed handling of support or incidents by a software vendor or supplier.</p>
</td></tr><tr><td valign="top">
<p>SMT</p>
</td><td valign="top">
<p>SUSE Subscription Management Tool. Helps to manage software updates, maintain corporate firewall policy and meet regulatory compliance requirements in SUSE Linux Enterprise 11 and 12. Has been replaced by the RMT and SUSE Manager in newer SUSE Linux Enterprise versions.</p>
</td></tr><tr><td valign="top">
<p>STS</p>
</td><td valign="top">
<p>StatefulSet. Manages the deployment and scaling of a set of Pods, and provides guarantees about the ordering and uniqueness of these Pods for a "stateful" application.</p>
</td></tr><tr><td valign="top">
<p>SMTP</p>
</td><td valign="top">
<p>Simple Mail Transfer Protocol. A communication protocol for electronic mail transmission.</p>
</td></tr><tr><td valign="top">
<p>TOML</p>
</td><td valign="top">
<p>Tom’s Obvious, Minimal Language. Configuration file format used for configuring container registries for CRI-O.</p>
</td></tr><tr><td valign="top">
<p>VPA</p>
</td><td valign="top">
<p>Vertical Pod Autoscaler. VPA automatically sets the values for resource requests and container limits based on usage.</p>
</td></tr><tr><td valign="top">
<p>VPC</p>
</td><td valign="top">
<p>Virtual Private Cloud. Division of a public cloud, which supports private cloud computing and thus offers more control over virtual networks and an isolated environment for sensitive workloads.</p>
</td></tr></tbody></table></div></div></div></div><div class="appendix " id="_contributors"><div class="titlepage"><div><div><h1 class="title"><span class="number">A </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Contributors</span> <a title="Permalink" class="permalink" href="#_contributors">#</a></h1></div></div></div><div class="line"></div><p>The contents of these documents are edited by the technical writers for
SUSE CaaS Platform and original works created by its <a class="link" href="https://github.com/SUSE/doc-caasp/graphs/contributors" target="_blank">contributors</a>.</p></div><div class="appendix " id="_gnu_licenses"><div class="titlepage"><div><div><h1 class="title"><span class="number">B </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">GNU Licenses</span> <a title="Permalink" class="permalink" href="#_gnu_licenses">#</a></h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="section"><a href="#_gnu_free_documentation_license"><span class="number">B.1 </span><span class="name">GNU Free Documentation License</span></a></span></dt></dl></div></div><p>This appendix contains the GNU Free Documentation License version 1.2.</p><div class="sect1" id="_gnu_free_documentation_license"><div class="titlepage"><div><div><h2 class="title"><span class="number">B.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">GNU Free Documentation License</span> <a title="Permalink" class="permalink" href="#_gnu_free_documentation_license">#</a></h2></div></div></div><p>Copyright © 2000, 2001, 2002 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.</p><div class="sect2" id="gfdl-preamble"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">0. PREAMBLE</span> <a title="Permalink" class="permalink" href="#gfdl-preamble">#</a></h3></div></div></div><p>The purpose of this License is to make a manual, textbook, or other functional and useful document "free" in the sense of freedom: to assure everyone the effective freedom to copy and redistribute it, with or without modifying it, either commercially or non-commercially.
Secondarily, this License preserves for the author and publisher a way to get credit for their work, while not being considered responsible for modifications made by others.</p><p>This License is a kind of "copyleft", which means that derivative works of the document must themselves be free in the same sense.
It complements the GNU General Public License, which is a copyleft license designed for free software.</p><p>We have designed this License to use it for manuals for free software, because free software needs free documentation: a free program should come with manuals providing the same freedoms that the software does.
But this License is not limited to software manuals; it can be used for any textual work, regardless of subject matter or whether it is published as a printed book.
We recommend this License principally for works whose purpose is instruction or reference.</p></div><div class="sect2" id="gfdl-applicabilty"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">1. APPLICABILITY AND DEFINITIONS</span> <a title="Permalink" class="permalink" href="#gfdl-applicabilty">#</a></h3></div></div></div><p>This License applies to any manual or other work, in any medium, that contains a notice placed by the copyright holder saying it can be distributed under the terms of this License.
Such a notice grants a world-wide, royalty-free license, unlimited in duration, to use that work under the conditions stated herein.
The "Document", below, refers to any such manual or work.
Any member of the public is a licensee, and is addressed as "you". You accept the license if you copy, modify or distribute the work in a way requiring permission under copyright law.</p><p>A "Modified Version" of the Document means any work containing the Document or a portion of it, either copied verbatim, or with modifications and/or translated into another language.</p><p>A "Secondary Section" is a named appendix or a front-matter section of the Document that deals exclusively with the relationship of the publishers or authors of the Document to the Document’s overall subject (or to related matters) and contains nothing that could fall directly within that overall subject.
(Thus, if the Document is in part a textbook of mathematics, a Secondary Section may not explain any mathematics.) The relationship could be a matter of historical connection with the subject or with related matters, or of legal, commercial, philosophical, ethical or political position regarding them.</p><p>The "Invariant Sections" are certain Secondary Sections whose titles are designated, as being those of Invariant Sections, in the notice that says that the Document is released under this License.
If a section does not fit the above definition of Secondary then it is not allowed to be designated as Invariant.
The Document may contain zero Invariant Sections.
If the Document does not identify any Invariant Sections then there are none.</p><p>The "Cover Texts" are certain short passages of text that are listed, as Front-Cover Texts or Back-Cover Texts, in the notice that says that the Document is released under this License.
A Front-Cover Text may be at most 5 words, and a Back-Cover Text may be at most 25 words.</p><p>A "Transparent" copy of the Document means a machine-readable copy, represented in a format whose specification is available to the general public, that is suitable for revising the document straightforwardly with generic text editors or (for images composed of pixels) generic paint programs or (for drawings) some widely available drawing editor, and that is suitable for input to text formatters or for automatic translation to a variety of formats suitable for input to text formatters.
A copy made in an otherwise Transparent file format whose markup, or absence of markup, has been arranged to thwart or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount of text.
A copy that is not "Transparent" is called "Opaque".</p><p>Examples of suitable formats for Transparent copies include plain ASCII without markup, Texinfo input format, LaTeX input format, SGML or XML using a publicly available DTD, and standard-conforming simple HTML, PostScript or PDF designed for human modification.
Examples of transparent image formats include PNG, XCF and JPG.
Opaque formats include proprietary formats that can be read and edited only by proprietary word processors, SGML or XML for which the DTD and/or processing tools are not generally available, and the machine-generated HTML, PostScript or PDF produced by some word processors for output purposes only.</p><p>The "Title Page" means, for a printed book, the title page itself, plus such following pages as are needed to hold, legibly, the material this License requires to appear in the title page.
For works in formats which do not have any title page as such, "Title Page" means the text near the most prominent appearance of the work’s title, preceding the beginning of the body of the text.</p><p>A section "Entitled XYZ" means a named subunit of the Document whose title either is precisely XYZ or contains XYZ in parentheses following text that translates XYZ in another language.
(Here XYZ stands for a specific section name mentioned below, such as "Acknowledgements", "Dedications", "Endorsements", or "History".) To "Preserve the Title" of such a section when you modify the Document means that it remains a section "Entitled XYZ" according to this definition.</p><p>The Document may include Warranty Disclaimers next to the notice which states that this License applies to the Document.
These Warranty Disclaimers are considered to be included by reference in this License, but only as regards disclaiming warranties: any other implication that these Warranty Disclaimers may have is void and has no effect on the meaning of this License.</p></div><div class="sect2" id="gfdl-verbatim-copying"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">2. VERBATIM COPYING</span> <a title="Permalink" class="permalink" href="#gfdl-verbatim-copying">#</a></h3></div></div></div><p>You may copy and distribute the Document in any medium, either commercially or non-commercially, provided that this License, the copyright notices, and the license notice saying this License applies to the Document are reproduced in all copies, and that you add no other conditions whatsoever to those of this License.
You may not use technical measures to obstruct or control the reading or further copying of the copies you make or distribute.
However, you may accept compensation in exchange for copies.
If you distribute a large enough number of copies you must also follow the conditions in section 3.</p><p>You may also lend copies, under the same conditions stated above, and you may publicly display copies.</p></div><div class="sect2" id="gfdl-quantity-copying"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">3. COPYING IN QUANTITY</span> <a title="Permalink" class="permalink" href="#gfdl-quantity-copying">#</a></h3></div></div></div><p>If you publish printed copies (or copies in media that commonly have printed covers) of the Document, numbering more than 100, and the Document’s license notice requires Cover Texts, you must enclose the copies in covers that carry, clearly and legibly, all these Cover Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on the back cover.
Both covers must also clearly and legibly identify you as the publisher of these copies.
The front cover must present the full title with all words of the title equally prominent and visible.
You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve the title of the Document and satisfy these conditions, can be treated as verbatim copying in other respects.</p><p>If the required texts for either cover are too voluminous to fit legibly, you should put the first ones listed (as many as fit reasonably) on the actual cover, and continue the rest onto adjacent pages.</p><p>If you publish or distribute Opaque copies of the Document numbering more than 100, you must either include a machine-readable Transparent copy along with each Opaque copy, or state in or with each Opaque copy a computer-network location from which the general network-using public has access to download using public-standard network protocols a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps, when you begin distribution of Opaque copies in quantity, to ensure that this Transparent copy will remain thus accessible at the stated location until at least one year after the last time you distribute an Opaque copy (directly or through your agents or retailers) of that edition to the public.</p><p>It is requested, but not required, that you contact the authors of the Document well before redistributing any large number of copies, to give them a chance to provide you with an updated version of the Document.</p></div><div class="sect2" id="gfdl-modifications"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">4. MODIFICATIONS</span> <a title="Permalink" class="permalink" href="#gfdl-modifications">#</a></h3></div></div></div><p>You may copy and distribute a Modified Version of the Document under the conditions of sections 2 and 3 above, provided that you release the Modified Version under precisely this License, with the Modified Version filling the role of the Document, thus licensing distribution and modification of the Modified Version to whoever possesses a copy of it.
In addition, you must do these things in the Modified Version:</p><div class="orderedlist "><ol class="orderedlist" type="A"><li class="listitem "><p>Use in the Title Page (and on the covers, if any) a title distinct from that of the Document, and from those of previous versions (which should, if there were any, be listed in the History section of the Document). You may use the same title as a previous version if the original publisher of that version gives permission.</p></li><li class="listitem "><p>List on the Title Page, as authors, one or more persons or entities responsible for authorship of the modifications in the Modified Version, together with at least five of the principal authors of the Document (all of its principal authors, if it has fewer than five), unless they release you from this requirement.</p></li><li class="listitem "><p>State on the Title page the name of the publisher of the Modified Version, as the publisher.</p></li><li class="listitem "><p>Preserve all the copyright notices of the Document.</p></li><li class="listitem "><p>Add an appropriate copyright notice for your modifications adjacent to the other copyright notices.</p></li><li class="listitem "><p>Include, immediately after the copyright notices, a license notice giving the public permission to use the Modified Version under the terms of this License, in the form shown in the Addendum below.</p></li><li class="listitem "><p>Preserve in that license notice the full lists of Invariant Sections and required Cover Texts given in the Document’s license notice.</p></li><li class="listitem "><p>Include an unaltered copy of this License.</p></li><li class="listitem "><p>Preserve the section Entitled "History", Preserve its Title, and add to it an item stating at least the title, year, new authors, and publisher of the Modified Version as given on the Title Page. If there is no section Entitled "History" in the Document, create one stating the title, year, authors, and publisher of the Document as given on its Title Page, then add an item describing the Modified Version as stated in the previous sentence.</p></li><li class="listitem "><p>Preserve the network location, if any, given in the Document for public access to a Transparent copy of the Document, and likewise the network locations given in the Document for previous versions it was based on. These may be placed in the "History" section. You may omit a network location for a work that was published at least four years before the Document itself, or if the original publisher of the version it refers to gives permission.</p></li><li class="listitem "><p>For any section Entitled "Acknowledgements" or "Dedications", Preserve the Title of the section, and preserve in the section all the substance and tone of each of the contributor acknowledgements and/or dedications given therein.</p></li><li class="listitem "><p>Preserve all the Invariant Sections of the Document, unaltered in their text and in their titles. Section numbers or the equivalent are not considered part of the section titles.</p></li><li class="listitem "><p>Delete any section Entitled "Endorsements". Such a section may not be included in the Modified Version.</p></li><li class="listitem "><p>Do not retitle any existing section to be Entitled "Endorsements" or to conflict in title with any Invariant Section.</p></li><li class="listitem "><p>Preserve any Warranty Disclaimers.</p></li></ol></div><p>If the Modified Version includes new front-matter sections or appendices that qualify as Secondary Sections and contain no material copied from the Document, you may at your option designate some or all of these sections as invariant.
To do this, add their titles to the list of Invariant Sections in the Modified Version’s license notice.
These titles must be distinct from any other section titles.</p><p>You may add a section Entitled "Endorsements", provided it contains nothing but endorsements of your Modified Version by various parties—​for example, statements of peer review or that the text has been approved by an organization as the authoritative definition of a standard.</p><p>You may add a passage of up to five words as a Front-Cover Text, and a passage of up to 25 words as a Back-Cover Text, to the end of the list of Cover Texts in the Modified Version.
Only one passage of Front-Cover Text and one of Back-Cover Text may be added by (or through arrangements made by) any one entity.
If the Document already includes a cover text for the same cover, previously added by you or by arrangement made by the same entity you are acting on behalf of, you may not add another; but you may replace the old one, on explicit permission from the previous publisher that added the old one.</p><p>The author(s) and publisher(s) of the Document do not by this License give permission to use their names for publicity for or to assert or imply endorsement of any Modified Version.</p></div><div class="sect2" id="gfdl-combining"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">5. COMBINING DOCUMENTS</span> <a title="Permalink" class="permalink" href="#gfdl-combining">#</a></h3></div></div></div><p>You may combine the Document with other documents released under this License, under the terms defined in section 4 above for modified versions, provided that you include in the combination all of the Invariant Sections of all of the original documents, unmodified, and list them all as Invariant Sections of your combined work in its license notice, and that you preserve all their Warranty Disclaimers.</p><p>The combined work need only contain one copy of this License, and multiple identical Invariant Sections may be replaced with a single copy.
If there are multiple Invariant Sections with the same name but different contents, make the title of each such section unique by adding at the end of it, in parentheses, the name of the original author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of Invariant Sections in the license notice of the combined work.</p><p>In the combination, you must combine any sections Entitled "History" in the various original documents, forming one section Entitled "History"; likewise combine any sections Entitled "Acknowledgements", and any sections Entitled "Dedications". You must delete all sections Entitled "Endorsements".</p></div><div class="sect2" id="gfdl-collections"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">6. COLLECTIONS OF DOCUMENTS</span> <a title="Permalink" class="permalink" href="#gfdl-collections">#</a></h3></div></div></div><p>You may make a collection consisting of the Document and other documents released under this License, and replace the individual copies of this License in the various documents with a single copy that is included in the collection, provided that you follow the rules of this License for verbatim copying of each of the documents in all other respects.</p><p>You may extract a single document from such a collection, and distribute it individually under this License, provided you insert a copy of this License into the extracted document, and follow this License in all other respects regarding verbatim copying of that document.</p></div><div class="sect2" id="gfdl-aggregation"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">7. AGGREGATION WITH INDEPENDENT WORKS</span> <a title="Permalink" class="permalink" href="#gfdl-aggregation">#</a></h3></div></div></div><p>A compilation of the Document or its derivatives with other separate and independent documents or works, in or on a volume of a storage or distribution medium, is called an "aggregate" if the copyright resulting from the compilation is not used to limit the legal rights of the compilation’s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not apply to the other works in the aggregate which are not themselves derivative works of the Document.</p><p>If the Cover Text requirement of section 3 is applicable to these copies of the Document, then if the Document is less than one half of the entire aggregate, the Document’s Cover Texts may be placed on covers that bracket the Document within the aggregate, or the electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole aggregate.</p></div><div class="sect2" id="gfdl-translation"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.9 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">8. TRANSLATION</span> <a title="Permalink" class="permalink" href="#gfdl-translation">#</a></h3></div></div></div><p>Translation is considered a kind of modification, so you may distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special permission from their copyright holders, but you may include translations of some or all Invariant Sections in addition to the original versions of these Invariant Sections.
You may include a translation of this License, and all the license notices in the Document, and any Warranty Disclaimers, provided that you also include the original English version of this License and the original versions of those notices and disclaimers.
In case of a disagreement between the translation and the original version of this License or a notice or disclaimer, the original version will prevail.</p><p>If a section in the Document is Entitled "Acknowledgements", "Dedications", or "History", the requirement (section 4) to Preserve its Title (section 1) will typically require changing the actual title.</p></div><div class="sect2" id="gfdl-termination"><div class="titlepage"><div><div><h3 class="title"><span class="number">B.1.10 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">9. TERMINATION</span> <a title="Permalink" class="permalink" href="#gfdl-termination">#</a></h3></div></div></div><p>You may not copy, modify, sublicense, or distribute the Document except as expressly provided for under this License.
Any other attempt to copy, modify, sublicense or distribute the Document is void, and will automatically terminate your rights under this License.
However, parties who have received copies, or rights, from you under this License will not have their licenses terminated so long as such parties remain in full compliance.</p><div class="sect3" id="gfdl-future"><div class="titlepage"><div><div><h4 class="title"><span class="number">B.1.10.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">10. FUTURE REVISIONS OF THIS LICENSE</span> <a title="Permalink" class="permalink" href="#gfdl-future">#</a></h4></div></div></div><p>The Free Software Foundation may publish new, revised versions of the GNU Free Documentation License from time to time.
Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns.
See <a class="link" href="http://www.gnu.org/copyleft/" target="_blank">http://www.gnu.org/copyleft/</a>.</p><p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this License "or any later version" applies to it, you have the option of following the terms and conditions either of that specified version or of any later version that has been published (not as a draft) by the Free Software Foundation.
If the Document does not specify a version number of this License, you may choose any version ever published (not as a draft) by the Free Software Foundation.</p></div><div class="sect3" id="gfdl-addendum"><div class="titlepage"><div><div><h4 class="title"><span class="number">B.1.10.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">ADDENDUM: How to use this License for your documents</span> <a title="Permalink" class="permalink" href="#gfdl-addendum">#</a></h4></div></div></div><div class="verbatim-wrap"><pre class="screen">Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled "GNU
Free Documentation License".</pre></div><p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts, replace the “
with…​Texts.”
line with this:</p><div class="verbatim-wrap"><pre class="screen">with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</pre></div><p>If you have Invariant Sections without Cover Texts, or some other combination of the three, merge those two alternatives to suit the situation.</p><p>If your document contains nontrivial examples of program code, we recommend releasing these examples in parallel under your choice of free software license, such as the GNU General Public License, to permit their use in free software.</p></div></div></div></div></div></div><div class="page-bottom"><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2020 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>